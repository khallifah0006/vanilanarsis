self.addEventListener("push",(i=>{if(!i.data)return;const e=i.data.json(),t={body:e.options.body,icon:"/icon.png",badge:"/badge.png",vibrate:[100,50,100],data:{url:"/"},actions:[{action:"open",title:"Open Story"}]};i.waitUntil(self.registration.showNotification(e.title,t))})),self.addEventListener("notificationclick",(i=>{i.notification.close(),i.waitUntil(clients.openWindow("/"))})),self.addEventListener("install",(i=>{self.skipWaiting()})),self.addEventListener("activate",(i=>self.clients.claim())),self.addEventListener("push",(i=>{if(!i.data)return;const e=i.data.json(),t={body:e.options.body,icon:"/icon.png",badge:"/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1},actions:[{action:"view",title:"View Story"}]};navigator.serviceWorker.register("service-worker.js").then((i=>{console.log("Service Worker registered with scope:",i.scope)})).catch((i=>{console.error("Service Worker registration failed:",i)})),i.waitUntil(self.registration.showNotification(e.title,t))})),self.addEventListener("notificationclick",(i=>{i.notification.close(),i.action,i.waitUntil(clients.openWindow("/#/"))}));